# rp2040_pmw3360_PoC_boardビルドガイド
## 1. 部品
### 1-1. 付属しているもの

* 準備段階ではちゃんと書いたけど､全部は入れてません!(時間とパーツが足りなくなりました､ごめんなさい)
  
|名称|数量|備考|
|----|:---:|----|
|ミドルPCB | 1個 | |
|トップPCBプレート| 1個  | |
|ボトムPCBプレート | 1個 | |
|PMW3360ブレイクアウトーボード|1個||
|ステンレスミニアチュアベアリング(3×6×2.5mm)|3個||
|六角ナット(M3 厚さ2.4mm)|3個||
|(+)ナベ頭小ねじ(M3 10mm)|3個||
|トラックボールケース|1個|ローマウント版|
|トラックボールケースカバー(爪)|3個||
|トラックボールケースカバー(右リング)|1個||
|トラックボールケースカバー(左リング)|1個||
|M2 2.5mmスペーサー(ARB-2002.5E)|4個|丸型中空|
|M2 3.5mmスペーサー(ARB-2003.5E)|4個|丸型両メネジ|
|M2 14mmスペーサー|3個|丸型両メネジ､トラボ飛び出し防止用| 
|M2 12mmスペーサー|4個|丸型両メネジ|
|M2 4mmネジ|7本|
|M2 10mmネジ|7本|

### 追加で必要なもの
|名称|数量|備考|
|----|:---:|----|
|PMW3360DM-T2QU|1個|レンズ付き|
|コンスルー 12P|1個|6ピンに割って使用|
|RP2040 Zero|1個||

## 2. はんだ
### 2-1．ダイオードの取り付け
ダイオードをハンダづけしてください｡
ダイオードには極性がありますので、正しい向きで取り付けてください。向きは部品上の直線とシルクマーク内の矢印の先についている直線が一致する方向です。  


### 2-2．ソケットの取り付け
ソケットをハンダづけしてください｡

### 2-3 RP2040 Zeroのはんだづけ
RP2040の下になるソケットのはんだ付けが適切かをよく確認してください｡
RP2040 Zeroの取り付け後の修正は､非常に難易度が高いです｡
確認後RP2040 Zeroをはんだ付けしてください｡


## 3. PMW3360ブレイクアウトーボード作成
ブレイクアウトボードの既にICがはんだ付けされている⾯を表にし､
印をあわせて､PMW3360をはんだ付けしてください｡

PMW3360をはんだ付け後､レンズを取り付けし､はんだで飛び出した部分をを溶解させ､レンズを固定してください｡


## 4. ケースの作成
ケースは､Kushima8さんの公開されているケースをお借りしました｡
Kushima8さん､ありがとうございます｡
下記ページで組み立て方法が記載してあるので､こちらをご参照ください｡
https://github.com/kushima8/PMW3360/blob/main/documents/buildguide.md

## 5. 組み上げ
以下の写真を参考に組み上げてください｡わからなければDMください｡
![IMG_20241109_225934](https://github.com/user-attachments/assets/0b4a3290-d9a4-4b0e-bede-cc7bcc9d7a8a)


### 2-4. RP2040 Zeroへのファームウェアの書き込みと動作確認
下記URLからファームウェアのHexファイルをダウンロードして､RP2040 Zeroに書きこんでください｡
https://github.com/yubinagasaru/rp2040_pmw3360_PoC_board/blob/development/qmk_firmware/tbpoc_vial.uf2

具体的には､RP2040 ZeroBootボタンを押しながらPCに接続し､ポップアップしたウインドウにHexファイルをドラッグドロップすると､書き込まれます｡

ダウンロード後､Vialにアクセスし､Key testerですべてのキーが適切に動作するか確認してください｡

ソースは､下記に格納してあります｡ QMK Vial 0.24.3でコンパイルできることを確認しています｡
https://github.com/yubinagasaru/rp2040_pmw3360_PoC_board/tree/development/qmk_firmware/tbpoc

バージョン指定してコンパイルをしたい場合､堕落猫さんのGPK FWBuilderをご検討ください｡
https://github.com/darakuneko/gpk_fwmaker
